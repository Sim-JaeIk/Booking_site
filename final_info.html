<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AYU Flight</title>
    <link rel="stylesheet" href="/css_box/style.css" />
    <link rel="stylesheet" href="/css_box/final_style.css" />
  </head>
  <body>
    <header>
      <nav class="title">
        <div class="logo">
          <h2>3Team</h2>
        </div>
        <ul class="menu">
          <li><a href="#guide">예약안내</a></li>
          <li><a href="#info">운항정보</a></li>
          <li><a href="view.html">예약조회</a></li>
          <input type="checkbox" id="checkbox" />
          <label for="checkbox" class="toggle">
            <div class="bars" id="bar1"></div>
            <div class="bars" id="bar2"></div>
            <div class="bars" id="bar3"></div>
          </label>
        </ul>
      </nav>
    </header>
    <main>
      <div class="flight-info">
        <!-- 경로 정보 -->
        <div class="route">
          <span class="city-departure">인천</span>
          <img
            class="icon-takeoff"
            src="/picture/wtake-off-one.png"
            alt="출발 아이콘"
          />
          <span class="city-arrival">제주</span>
          <time datetime="2024-11-23" class="date">2024.11.23.토</time>
        </div>

        <!-- 비행 정보 -->
        <div class="details">
          <div class="summary">
            <span class="trip-type">편도</span>
            <span class="airline">제주항공</span>
          </div>

          <div class="flight-schedule">
            <div class="departure-info">
              <time class="time" datetime="2024-11-23T06:40">06:40</time>
              <span class="location">인천</span>
            </div>
            <div class="flight-duration">
              <img class="icon" src="/picture/take-off.png" alt="비행 시간" />
              <span>약 1시간 10분</span>
            </div>
            <div class="arrival-info">
              <time class="time" datetime="2024-11-23T07:50">07:50</time>
              <span class="location">제주</span>
            </div>
          </div>

          <!-- 탑승자 정보 -->
          <div class="passenger-info">
            <span class="passenger adulst"
              >성인 <span class="count" id="adult-count">1</span>
              </span>
            /
            <span class="passenger infant"
              >유아 <span class="count" id="infant-count">1</span>
              </span>
            /
            <span class="class">일반석</span>
          </div>
        </div>

        <!-- 요금 정보 -->
        <div class="pricing">
          <div class="price-label">
            <span class="fee">요금 정보</span>
            <div class="change-btn">
              <button class="change">항공권 변경</button>
            </div>
          </div>
          <div class="total-price">
            <span class="whole-fee">총 금액:</span>
            <div class="total-passengers">
              <span>총</span>
              <span class="count" id="total-passengers">2</span>
              <span>명</span>
            </div>  
            <div class="price">
              <span class="unit">₩</span>
              <span class="amount" id="total-price">225,000</span>
              <span class="won">원</span>
            </div>
          </div>

          <!-- 결제 정보 -->
            <h3 class="heading">무 통장 입금 계좌</h3>
            <div class="bank-details">
              <div>
                <span class="label">은행명:</span>
                <span class="value">한국은행</span>
              </div>
              <div style="margin-left: 50px;">
                <span class="label">계좌번호:</span>
                <span class="value">123-456-789012</span>
              </div>
              <div>
                <span class="label">예금주:</span>
                <span class="value">3Team</span>
              </div>
            </div>
            <!-- 결제 버튼 -->
            <div class="action">
              <button class="payment-btn">결제</button>
            </div>
        </div>

      </div>
    </main>
    <script>
      // 데이터 (백엔드 또는 API에서 가져올 데이터)
      const flightData = {
        departure: "인천",
        arrival: "제주",
        date: "2024-11-23",
        departureTime: "06:40",
        arrivalTime: "07:50",
        duration: "약 1시간 10분",
        passengers: {
          adults: 1,
          infants: 1,
        },
        class: "일반석",
        price: {
          currency: "₩",
          amount: 225000,
          unit: "원",
        },
      };

      // 데이터 렌더링 함수
      function updateFlightInfo(data) {
        // 경로 및 시간 업데이트
        document.querySelector(".departure").textContent = data.departure;
        document.querySelector(".arrival").textContent = data.arrival;
        document.querySelector(".date").textContent = data.date;

        // 탑승자 수 업데이트
        document.getElementById("adult-count").textContent =
          data.passengers.adults;
        document.getElementById("infant-count").textContent =
          data.passengers.infants;

        // 총 승객 수 계산 및 업데이트
        const totalPassengers =
          data.passengers.adults + data.passengers.infants;
        document.getElementById("total-passengers").textContent =
          totalPassengers;

        // 금액 업데이트
        document.getElementById("total-price").textContent =
          data.price.amount.toLocaleString();
      }

      // 초기 데이터 렌더링
      updateFlightInfo(flightData);

      // 이후 데이터가 변경될 경우를 위한 업데이트
      // 예: 탑승자 수가 변경될 때
      flightData.passengers.adults = 2;
      flightData.passengers.infants = 1;
      updateFlightInfo(flightData);
    </script>
  </body>
</html>
